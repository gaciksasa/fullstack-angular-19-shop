<div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow">
    <h2 class="text-2xl font-bold mb-6">{{isEditing ? 'Edit' : 'Add'}} Product</h2>
  
    <form (ngSubmit)="onSubmit()" #productForm="ngForm">
      <div class="space-y-4">
        <!-- Title -->
        <div>
          <label class="block text-sm font-medium text-gray-700">Title</label>
          <input type="text" 
                 [(ngModel)]="product.title" 
                 name="title"
                 required
                 class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        </div>
  
        <!-- Description -->
        <div>
          <label class="block text-sm font-medium text-gray-700">Description</label>
          <textarea [(ngModel)]="product.description" 
                    name="description"
                    required
                    rows="3"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></textarea>
        </div>
  
        <!-- Price & Discount -->
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Price</label>
            <input type="number" 
                   [(ngModel)]="product.price" 
                   name="price"
                   required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Discount (%)</label>
            <input type="number" 
                   [(ngModel)]="product.discountPercentage" 
                   name="discountPercentage"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          </div>
        </div>
  
        <!-- Category & Brand -->
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Category</label>
            <input type="text" 
                   [(ngModel)]="product.category" 
                   name="category"
                   required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Brand</label>
            <input type="text" 
                   [(ngModel)]="product.brand" 
                   name="brand"
                   required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          </div>
        </div>
  
        <!-- Stock & Status -->
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Stock</label>
            <input type="number" 
                   [(ngModel)]="product.stock" 
                   name="stock"
                   required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Status</label>
            <select [(ngModel)]="product.availabilityStatus" 
                    name="availabilityStatus"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
              <option value="In Stock">In Stock</option>
              <option value="Low Stock">Low Stock</option>
              <option value="Out of Stock">Out of Stock</option>
            </select>
          </div>
        </div>
  
        <!-- Images -->
        <div>
          <label class="block text-sm font-medium text-gray-700">Thumbnail URL</label>
          <input type="text" 
                 [(ngModel)]="product.thumbnail" 
                 name="thumbnail"
                 required
                 class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        </div>

        <!-- SKU and Weight -->
        <div class="grid grid-cols-2 gap-4">
            <div>
            <label class="block text-sm font-medium text-gray-700">SKU</label>
            <input type="text" 
                    [(ngModel)]="product.sku" 
                    name="sku"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            <div>
            <label class="block text-sm font-medium text-gray-700">Weight</label>
            <input type="number" 
                    [(ngModel)]="product.weight" 
                    name="weight"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
        </div>
        
        <!-- Dimensions -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Dimensions</label>
            <div class="grid grid-cols-3 gap-4">
            <div>
                <label class="block text-xs text-gray-500">Width</label>
                <input type="number" 
                    [(ngModel)]="product.dimensions.width" 
                    name="width"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            <div>
                <label class="block text-xs text-gray-500">Height</label>
                <input type="number" 
                    [(ngModel)]="product.dimensions.height" 
                    name="height"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            <div>
                <label class="block text-xs text-gray-500">Depth</label>
                <input type="number" 
                    [(ngModel)]="product.dimensions.depth" 
                    name="depth"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            </div>
        </div>
        
        <!-- Warranty and Shipping -->
        <div class="grid grid-cols-2 gap-4">
            <div>
            <label class="block text-sm font-medium text-gray-700">Warranty Information</label>
            <input type="text" 
                    [(ngModel)]="product.warrantyInformation" 
                    name="warrantyInformation"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            <div>
            <label class="block text-sm font-medium text-gray-700">Shipping Information</label>
            <input type="text" 
                    [(ngModel)]="product.shippingInformation" 
                    name="shippingInformation"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
        </div>
        
        <!-- Return Policy and Minimum Order -->
        <div class="grid grid-cols-2 gap-4">
            <div>
            <label class="block text-sm font-medium text-gray-700">Return Policy</label>
            <input type="text" 
                    [(ngModel)]="product.returnPolicy" 
                    name="returnPolicy"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            <div>
            <label class="block text-sm font-medium text-gray-700">Minimum Order Quantity</label>
            <input type="number" 
                    [(ngModel)]="product.minimumOrderQuantity" 
                    name="minimumOrderQuantity"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
        </div>
  
        <!-- Tags -->
        <div>
            <label class="block text-sm font-medium text-gray-700">Tags (comma-separated)</label>
            <input type="text" 
                [ngModel]="product.tags.join(', ')" 
                (ngModelChange)="onTagsChange($event)"
                name="tags"
                placeholder="tag1, tag2, tag3"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        </div>
  
        <div class="flex justify-end space-x-3">
          <button type="button"
                  routerLink="/admin/products"
                  class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">
            Cancel
          </button>
          <button type="submit"
                  [disabled]="!productForm.form.valid || loading"
                  class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            {{isEditing ? 'Update' : 'Create'}} Product
          </button>
        </div>
      </div>
    </form>
  </div>
<div class="container mx-auto px-4 py-8">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-3xl font-bold mb-8">Checkout</h1>
  
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Order Summary -->
        <div class="bg-white p-6 rounded-lg shadow">
          <!-- ... existing order summary code ... -->
        </div>
  
        <!-- Checkout Form -->
        <div class="bg-white p-6 rounded-lg shadow">
          <h2 class="text-xl font-semibold mb-4">Payment Details</h2>
          <form (ngSubmit)="onSubmit(checkoutForm)" #checkoutForm="ngForm">
            <!-- Personal Info -->
            <div class="grid grid-cols-2 gap-4 mb-4">
              <div>
                <label class="block text-sm font-medium mb-1">First Name *</label>
                <input type="text" 
                       [(ngModel)]="formData.firstName" 
                       name="firstName" 
                       required
                       #firstName="ngModel"
                       class="w-full p-2 border rounded" 
                       [class.border-red-500]="(firstName.invalid && submitted)">
                <span class="text-red-500 text-xs mt-1" 
                      *ngIf="firstName.invalid && submitted">
                  First name is required
                </span>
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">Last Name *</label>
                <input type="text" 
                       [(ngModel)]="formData.lastName" 
                       name="lastName" 
                       required
                       #lastName="ngModel"
                       class="w-full p-2 border rounded"
                       [class.border-red-500]="(lastName.invalid && submitted)">
                <span class="text-red-500 text-xs mt-1" 
                      *ngIf="lastName.invalid && submitted">
                  Last name is required
                </span>
              </div>
            </div>
  
            <!-- Email -->
            <div class="mb-4">
              <label class="block text-sm font-medium mb-1">Email *</label>
              <input type="email" 
                     [(ngModel)]="formData.email" 
                     name="email" 
                     required
                     #email="ngModel"
                     pattern="[^@\s]+@[^@\s]+\.[^@\s]+"
                     class="w-full p-2 border rounded"
                     [class.border-red-500]="(email.invalid && submitted)">
              <span class="text-red-500 text-xs mt-1" 
                    *ngIf="email.invalid && submitted">
                Please enter a valid email address
              </span>
            </div>
  
            <!-- Shipping Info -->
            <div class="mb-4">
              <label class="block text-sm font-medium mb-1">Address *</label>
              <input type="text" 
                     [(ngModel)]="formData.address" 
                     name="address" 
                     required
                     #address="ngModel"
                     class="w-full p-2 border rounded"
                     [class.border-red-500]="(address.invalid && submitted)">
              <span class="text-red-500 text-xs mt-1" 
                    *ngIf="address.invalid && submitted">
                Address is required
              </span>
            </div>
  
            <!-- Card Information -->
            <div class="mb-4">
              <label class="block text-sm font-medium mb-1">Card Number *</label>
              <input type="text" 
                     [(ngModel)]="formData.cardNumber" 
                     name="cardNumber" 
                     required
                     #cardNumber="ngModel"
                     pattern="\d{16}"
                     maxlength="16"
                     class="w-full p-2 border rounded"
                     [class.border-red-500]="(cardNumber.invalid && submitted)">
              <span class="text-red-500 text-xs mt-1" 
                    *ngIf="cardNumber.invalid && submitted">
                Please enter a valid 16-digit card number
              </span>
            </div>
  
            <div class="grid grid-cols-2 gap-4 mb-6">
              <div>
                <label class="block text-sm font-medium mb-1">Expiry Date *</label>
                <input type="text" 
                       [(ngModel)]="formData.cardExpiry" 
                       name="cardExpiry" 
                       required
                       #cardExpiry="ngModel"
                       pattern="\d{2}\/\d{2}"
                       placeholder="MM/YY"
                       maxlength="5"
                       class="w-full p-2 border rounded"
                       [class.border-red-500]="(cardExpiry.invalid && submitted)">
                <span class="text-red-500 text-xs mt-1" 
                      *ngIf="cardExpiry.invalid && submitted">
                  Please enter a valid expiry date (MM/YY)
                </span>
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">CVV *</label>
                <input type="text" 
                       [(ngModel)]="formData.cardCvv" 
                       name="cardCvv" 
                       required
                       #cardCvv="ngModel"
                       pattern="\d{3,4}"
                       maxlength="4"
                       class="w-full p-2 border rounded"
                       [class.border-red-500]="(cardCvv.invalid && submitted)">
                <span class="text-red-500 text-xs mt-1" 
                      *ngIf="cardCvv.invalid && submitted">
                  Please enter a valid CVV
                </span>
              </div>
            </div>
  
            <button type="submit" 
                    [disabled]="isProcessing"
                    class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 transition-colors">
              {{isProcessing ? 'Processing...' : 'Place Order'}}
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>